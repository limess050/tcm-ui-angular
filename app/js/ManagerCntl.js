

function ManagerCntl($scope, $routeParams, $http, $rootScope, tcm_model) {
	$scope.editMode = false;
	// tcm_model.getFeatures().then(function(data){
	// 	$scope.features = data
	// 	console.log($scope.features);
	// })

	$scope.feature = {"jiraKey":"ION-2651","featureName":"HA prototyping","featureDescription":"At the end of the iteration we are going to implement HA prototype.\n\nAcceptance criteria:\n- Special AMI will be created for the prototype \n- The prototype supports messages with payload size up to ~30-35K\n- A message that is processed through a sequential series of flows could be processed on multiple application instances.\n- the HA demo should work on the prototype in cloud hub:\nhttp://www.mulesoft.org/documentation/display/current/Evaluating+Mule+High+Availability+Clusters+Demo\n- one worker would be able to process up to 50 msg/sec.\n- application would able to continue processing messages in queue after restart.\n","featureId":740,"state":2}

	$scope.features = [{"jiraKey":"ION-2651","featureName":"HA prototyping","featureDescription":"At the end of the iteration we are going to implement HA prototype.\n\nAcceptance criteria:\n- Special AMI will be created for the prototype \n- The prototype supports messages with payload size up to ~30-35K\n- A message that is processed through a sequential series of flows could be processed on multiple application instances.\n- the HA demo should work on the prototype in cloud hub:\nhttp://www.mulesoft.org/documentation/display/current/Evaluating+Mule+High+Availability+Clusters+Demo\n- one worker would be able to process up to 50 msg/sec.\n- application would able to continue processing messages in queue after restart.\n","featureId":740,"state":2},{"jiraKey":"ION-2751","featureName":"Insight simply hangs","featureDescription":"Hangs with error message when trying to access insight for qahandshake2qbw on production","featureId":763,"state":2},{"jiraKey":"ION-2781","featureName":"Fix styles and layout of the deployment view","featureDescription":"The style and layout of deployment view looks broken:\n- Different font sizes\n- Un-aligned elements\n\nNote: this change will affect also the Add application modal","featureId":741,"state":2},{"jiraKey":"ION-2784","featureName":"Create base AMI with OpenVPN installed.","featureDescription":"We need to create a base AMI with OpenVPN installed.","featureId":733,"state":2},{"jiraKey":"ION-2785","featureName":"Create server and client certificates for OpenVPN","featureDescription":"Implement code that creates server and client certificates for use in OpenVPN.  Also implement a REST API.  We probably need to create a separate client certificate for each tenant to support multitenancy. \n\n- example on how to generate certificates: CAGenerator.java in ion-ca-utils (under ion-console)\n- for now we will store both private and public keys in database\n- we also need code to generate openVPN config file(s) for each app/worker. \n- each certificate will require service name and optional tenant ID that will be added to client's cert subject fields (so that server can identify the service that connected)\n- service name should correspond to property name in the mule app to correctly perform substitution\n- tenant ID field should be tenantId, if tenantId not provided use -1 for default\n- resulting subject line in certificate should look like subject='service:database.mysql;tenantId:2656286' where database.mysql is customer selected service name. Customer will have to specify the same name in their app(?) Please discuss with DanD about that. MS.\n- also need API to revoke the cert for particular service and tenant pair","featureId":760,"state":2},{"jiraKey":"ION-2786","featureName":"Client IP needs to be registered with mule when the client connects for OpenVPN","featureDescription":"Figure out a protocol to handle OpenVPN session enablement between mule worker (server) and clients.  We could start up the vpn before mule starts and register the client IP at this time, but this won't work for multitenancy.  Ideally we could capture the client IP and inject it dynamically.  Serge might know about how to script this.\n\nOpen question about whether or not we need to register the client IP with platform services.\n\n- OpenVPN server should notify platform when connection is established (SDG connected)\n- OpenVPN server should notify platform when connection is dropped (SDG disconnected)\n- All existing SDG notifications and indicators should work the same as before","featureId":759,"state":2},{"jiraKey":"ION-2787","featureName":"Inject server certificate into mule worker on startup for OpenVPN","featureDescription":"The server certificate needs to be injected into the mule worker on startup to enable the mule worker to act as an OpenVPN server.","featureId":752,"state":2},{"jiraKey":"ION-2788","featureName":"Create a way to register and resolve VPN client services using local DNS or /etc/hosts","featureDescription":"Develop a convention on what the placeholder should be inside the mule application for communicating with a secure endpoint.  This convention should support more than one client (for example, when a worker needs to communicate with more than one database inside the client firewall).  This can be similar to how we handle $transport_url or $(http.port).\n\nAs far as implementation, one solution might be to play around with DNS tables and let the JVM timeout/refresh handle the updated routing.","featureId":742,"state":2},{"jiraKey":"ION-2789","featureName":"Notify platform of VPN down and send alerts when client dies/disconnects","featureDescription":"If a client dies or disconnects we must notify platform services so that we can send the user alerts that the vpn is down.","featureId":732,"state":2},{"jiraKey":"ION-2790","featureName":"Console updates for OpenVPN","featureDescription":"Console needs to be updated to provide the following OpenVPN services\n\n1. Users should be able to download their client certificate\n2. Users should be able to download the correct version of client OpenVPN software (potentially with mulesoft branding).","featureId":765,"state":2},{"jiraKey":"ION-2791","featureName":"Contact OpenVPN about rebranding their client for MuleSoft.","featureDescription":"Get in touch with OpenVPN about pricing and process for rebranding the client for MuleSoft.","featureId":750,"state":2},{"jiraKey":"ION-2792","featureName":"Handle client connections to multiple redundant workers with OpenVPN","featureDescription":"Formulate a plan for handling OpenVPN client connections to multiple redundant workers.  Maybe it will work for devops to put the workers into their own VPN and then you only have one connection between client / server VPN.","featureId":755,"state":2},{"jiraKey":"ION-2797","featureName":"Application not redeployed when updating running app","featureDescription":"After updating application information for a running application it is not being redeployed.","featureId":756,"state":2},{"jiraKey":"ION-2805","featureName":"Insight searches not working","featureDescription":"When I go to one of my apps' insight section in CH console and do a simple search in the search bar, I always get the same error:\n{code}Could not retrieve the transaction Summary for the query{code} and my search is not being completed.","featureId":747,"state":2},{"jiraKey":"ION-2813","featureName":"Insight working unexpectedly ","featureDescription":"For production application sharepoint2box when a user:\n\nclick on the insight link of the notification, the same is not showed.\n\nAnd an error is show in red in the window with this text:\n\nCould not retrieve the transaction Summary for the query\n\nAligned with this issue if you go to the Insight view for the same app and you click on any Log link for any insight not log is being showed.\n\n*** MS ******\nIt's a slow query in notifications. Log is below.\n20:32:46,761 INFO  [com.mulesoft.ion.tracking.CloudHubEventTracker] (http-8080-53:) Getting transaction summary for sharepoint2box\n20:33:01,837 ERROR [org.hibernate.util.JDBCExceptionReporter] (http-8080-50:) Communications link failure\n\nThe last packet successfully received from the server was 15,014 milliseconds ago.  The last packet sent successfully to the server was 15,013 milliseconds ago.\n20:33:01,837 ERROR [org.hibernate.util.JDBCExceptionReporter] (http-8080-53:) Communications link failure\n\nThe last packet successfully received from the server was 15,016 milliseconds ago.  The last packet sent successfully to the server was 15,015 milliseconds ago.\n20:33:01,838 ERROR [com.sun.jersey.spi.container.ContainerResponse] (http-8080-50:) Mapped exception to response: 500 (Internal Server Error)\njavax.ws.rs.WebApplicationException\nat com.mulesoft.ion.rest.tracking.TrackingResource.transactionsSummary(TrackingResource.java:70)\nat sun.reflect.GeneratedMethodAccessor200.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:616)\nat com.sun.jersey.spi.container.JavaMethodInvokerFactory$1.invoke(JavaMethodInvokerFactory.java:60)\nat com.sun.jersey.server.impl.model.method.dispatch.AbstractResourceMethodDispatchProvider$TypeOutInvoker._dispatch(AbstractResourceMethodDispatchProvider.java:185)\nat com.sun.jersey.server.impl.model.method.dispatch.ResourceJavaMethodDispatcher.dispatch(ResourceJavaMethodDispatcher.java:75)\nat com.sun.jersey.server.impl.uri.rules.HttpMethodRule.accept(HttpMethodRule.java:288)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:134)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.SubLocatorRule.accept(SubLocatorRule.java:134)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.ResourceClassRule.accept(ResourceClassRule.java:108)\nat com.sun.jersey.server.impl.uri.rules.RightHandPathRule.accept(RightHandPathRule.java:147)\nat com.sun.jersey.server.impl.uri.rules.RootResourceClassesRule.accept(RootResourceClassesRule.java:84)\nat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1469)\nat com.sun.jersey.server.impl.application.WebApplicationImpl._handleRequest(WebApplicationImpl.java:1400)\nat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1349)\nat com.sun.jersey.server.impl.application.WebApplicationImpl.handleRequest(WebApplicationImpl.java:1339)\nat com.sun.jersey.spi.container.servlet.WebComponent.service(WebComponent.java:416)\n ","featureId":754,"state":2},{"jiraKey":"ION-2814","featureName":"Log not being showed in the same way when reducing the scope","featureDescription":"Guys, \n\nAn iApp (sharepoint2box) with around 4 or five tenants.\n\nThe issue is hard to track and reproduce but the general idea is:\n\nYou may see a particular log in the general log view, i.e. all tenants all workers all priorities.\n\n\nBut when you try to reduce the scope in any way: \nYou select a particular tenant\nYou shorten the scope of the logs to the last our \nYou select only a particular priority (let's say ERROR)\n\nSome times (this is the hard part) you can not find the same log line.\n\nThe problem here is that when you are trying to track down the cause of the error to see to which tenant it belongs you can not do it.\n\nI'm sorry not being able to provide better steps to reproduce.\n\nI'll advice you when you try this is to talk to team to look for any iapp deployed with several tenant.","featureId":738,"state":2},{"jiraKey":"ION-2815","featureName":"Add cron expression to the tenant service of platform services","featureDescription":"In order to support new mule cron expressions for poll (since 3.5.0-bighorn) consider the fact that the mule worker now needs to the cron expression to platform services when a poll element is found.\n\nWe need to add a new method into the Tenant service that supports cron expressions.\n\nThe new code has to be backward compatible with previous versions of mule.","featureId":746,"state":2},{"jiraKey":"ION-2816","featureName":"Change mule worker to support 3.5.0 polling API","featureDescription":"Mule workers for 3.5.0-Bighorn will be using the new mule API for scheduling and will be able to execute the poll elements with cron expressions. We need to add changes into 3.5.0-Bighorn version of the mule worker code to support mule changes in bighorn.","featureId":757,"state":2},{"jiraKey":"ION-2817","featureName":"Mocks for UI changes ","featureDescription":"Mocks for UI changes","featureId":758,"state":2},{"jiraKey":"ION-2818","featureName":"Mocks for UI changes","featureDescription":"Mocks for UI changes for this task","featureId":753,"state":2},{"jiraKey":"ION-2820","featureName":"Business events for each appID should be capped at 100K most recent events","featureDescription":"When insights are stored, we should check if this app id has more than 100K insights records and delete oldest records exceeding the limit.\nWe should not delete more than 10K at a time to avoid causing MySQL performance problem.\nRecords should be deleted asynchronously, meaning - save the batch and return control back to mule and schedule delete job for the specified app ID.\nTry to figure out how to detect oldest records without sorting the full set, e.g. - run count for appID, if records exceed 100K, select min id for this appId and then delete records where tracking_event.id < min(tracking_event.id) + min(1OK, count - 100K) or something like that","featureId":762,"state":2},{"jiraKey":"ION-2821","featureName":"Ensure that only custom properties are written into tracking_properties table","featureDescription":"Ask DevOps for a copy of production DB\nCheck if tracking_properties table contains anything that does not look custom properties - e.g. tenant ids, etc. We should not be writing any non custom data into this table because joins on it are rather expensive","featureId":748,"state":2},{"jiraKey":"ION-2822","featureName":"Create a separate data source and hibernate factor for event tracking tables","featureDescription":"Create a separate data source and hibernate factor for event tracking tables.\nIn dev/QA it will point to a different schema on the same mysql instance, but in production we will launch a separate mysql instance for storing event tracking data.\nCreate migration script to copy only 3 event tracking tables on one schema to another.","featureId":734,"state":2},{"jiraKey":"ION-2823","featureName":"Disabled events are stored into db instead of being dropped?","featureDescription":"It looks like disabled events are stored into db.\nE.g. in production the following query:\nselect * from tracking_event join tracking_properties on event_id = tracking_event.id \nwhere tracking_event.app_id = '512bbe3ee4b0342314eaafdc' limit 100\n\nreturns a bunch of records that have tracking_properties record that have property_value = DISABLED and property_key=true\n\nDouble check with app developer and DanD what it means, and if these events should not be written into DB, than change mule to stop sending them to platform.\nAlso change code in platform to avoid saving them to DB for \"old\" mule images","featureId":761,"state":2},{"jiraKey":"ION-2825","featureName":"Cloudhub in Angular setup.","featureDescription":"Cloudhub in Angular setup.","featureId":735,"state":2},{"jiraKey":"ION-2829","featureName":"Implement back end search for Admin UI.","featureDescription":"Implement back end search for Admin UI.","featureId":739,"state":2},{"jiraKey":"ION-2830","featureName":"Research if possible to migrate one view at a time to angular framework and what it involves.","featureDescription":"Research if possible to migrate one view at a time to angular framework and what it involves.","featureId":749,"state":2},{"jiraKey":"ION-2831","featureName":"Certificates persistence and tenants changes (including migration DB scripts)","featureDescription":"1. Create new DB tables:\n- vpn_certificate\n- vpn_certificate_service\n- vpn_tenant_service\n\n2. Modify tenant table\n3. Unit tests\n4. Migration scripts","featureId":744,"state":2},{"jiraKey":"ION-2832","featureName":"Create ReST API for OpenVPN configurations. Modify existing ones for tenants Id","featureDescription":"It needs to provide some ReST API functionality to handle OpenVPN service configuration","featureId":737,"state":2},{"jiraKey":"ION-2833","featureName":"Platform service to update VPN worker Status in the DB","featureDescription":"The service should provide update of VPN worker status in DB","featureId":764,"state":2},{"jiraKey":"ION-2846","featureName":"web-api resources are marked as cacheable","featureDescription":"The /web-api resources are marked as cacheable. This is a security issue since this data (which might include things like important environment variables) will be stored inside the browser and another site could compromise this data potentially.\n\nTo fix this, all web-api resources should pass along the Cache-Control: nostore header.","featureId":736,"state":2},{"jiraKey":"ION-2847","featureName":"Login page should have autocomplete turned off for password","featureDescription":"As a security measure, the autocomplete on the password field for CloudHub should be turned off.","featureId":751,"state":2},{"jiraKey":"ION-2850","featureName":"API should return OK on sandbox creation once the environments array in the account object is updated too ('role' is not updated yet)","featureDescription":"About sandboxes:\n\nI've created my first sandbox with admin role and the API returns OK. \nSo I call to /account and get in the environments array a new sandbox, BUT the role has not been seted yet.\nLater on I CTRL+SHIFT+R to do other call and the account object is now updated.\n\n--> The API should return OK on creation of the sandbox once the account object is completely updated (with role also)","featureId":745,"state":2},{"jiraKey":"ION-2852","featureName":"load testing of persistent queues","featureDescription":"We should know what load we support (e.g. message size and throughput per instance) and what happens when this is surpassed (does it degrade but keep working? Does it crash? Does it hang?).","featureId":743,"state":2}]

}
ManagerCntl.$inject = ['$scope', '$routeParams', '$http', '$rootScope', 'tcm_model'];