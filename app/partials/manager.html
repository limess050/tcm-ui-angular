<link rel="stylesheet" href="assets/css/manager.css">
<div ng-controller="TopMenuCntl">
    <ng-include src="topmenu"></ng-include>
</div>
<div class="manager">
	<div class="panels">
		<div class="panel panel-default panel-tcm">
		  <div class="panel-body panel-body-tcm">
		    
			<div ng-repeat="feature in features" class="panel panel-default feature" ng-class="(feature.current == true)?'active':''" id="{{feature.featureId}}" ng-click="getTestCases(feature)">
			  <div class="panel-heading panel-heading-tcm">
			  	{{feature.jiraKey}}
					<div class="btn-group btn-group-xs pull-right">
					    <div class="btn no-opacity" ng-show="feature.editMode"><span class="glyphicon glyphicon-remove-circle" ng-click="$event.stopPropagation(); cancelEditFeature(feature, element);"></span></div>
						<div class="btn" ng-hide="feature.editMode"><span class="glyphicon glyphicon-pencil" ng-click="$event.stopPropagation(); editFeature(feature)"></span></div>
					    <div class="btn no-opacity" ng-show="feature.editMode"><span class="glyphicon glyphicon-ok-circle" ng-click="$event.stopPropagation(); saveFeature(feature)"></span></div>
						<div class="btn" ng-hide="feature.delete"><span class="glyphicon glyphicon-trash" ng-click="$event.stopPropagation(); feature.delete = true"></span></div>
						<div class="btn btn-danger btn-delete" ng-show="feature.delete" ng-click="deleteFeature(feature)" ng-mouseleave="$event.stopPropagation(); feature.delete = false">{{placeholders.feature.delete}}</div>
					</div>
				</div>
				<div class="progress progress-tcm">
					<div class="progress-bar progress-bar-success" role="progressbar" style="width: {{(feature.executed.state == 0 && feature.executed.total == 0)?100:0}}%"/>
				  	<div class="progress-bar progress-bar-success" role="progressbar" style="width: {{(feature.executed.pass * 100) / feature.executed.total}}%"/>
					<div class="progress-bar progress-bar-warning" role="progressbar" style="width: {{(feature.executed.blocked * 100) / feature.executed.total}}%"/>
					<div class="progress-bar progress-bar-danger" role="progressbar" style="width: {{(feature.executed.failed * 100) / feature.executed.total}}%"/>
					<div class="progress-bar progress-bar-info" role="progressbar" style="width: {{(feature.executed.inprogress * 100) / feature.executed.total}}%"/>
					<div class="progress-bar progress-bar-notrun" role="progressbar" style="width: {{(feature.executed.notrun * 100) / feature.executed.total}}%"/>
				</div>
				<textarea class="panel-body textarea-tcm" ng-class="feature.editMode==true?'editable':''" ng-model="feature.featureName" ng-disabled="feature.editMode==false?true:''"></textarea>
			</div>

		  </div>
		</div>
		<div class="panel panel-default panel-tcm">
		
			<div class="panel panel-default testcase" ng-class="(tc.current == true)?'active':''" ng-repeat="tc in testcases" ng-click="selectTc(tc)">
				<div class="panel-heading">
					<input class="name" ng-class="tc.editMode==true?'editable':''" ng-model="tc.name" ng-disabled="tc.editMode==false?true:''"/>
					<div class="btn-group btn-group-xs pull-right">
	                    <div class="btn no-opacity" ng-show="tc.editMode"><span class="glyphicon glyphicon-remove-circle" ng-click="$event.stopPropagation(); cancelEditTC(tc, element);"></span></div>
						<div class="btn" ng-hide="tc.editMode"><span class="glyphicon glyphicon-pencil" ng-click="editTC(tc)"></span></div>
	                    <div class="btn no-opacity" ng-show="tc.editMode"><span class="glyphicon glyphicon-ok-circle" ng-click="$event.stopPropagation(); saveTC(tc)"></span></div>
						<div class="btn" ng-hide="tc.delete"><span class="glyphicon glyphicon-trash" ng-click="$event.stopPropagation(); tc.delete = true"></span></div>
						<div class="btn btn-danger btn-delete" ng-show="tc.delete" ng-click="deleteTC(tc)" ng-mouseleave="$event.stopPropagation(); tc.delete = false">{{placeholders.testcase.delete}}</div>
					</div>
				</div>
				<div class="panel-body" ng-show="tc.current">
					<textarea class="panel-body textarea-tcm" ng-class="tc.editMode==true?'editable':''" ng-model="tc.description" ng-disabled="tc.editMode==false?true:''"></textarea>
				</div>
				<div class="panel-footer"  ng-show="tc.current">Panel footer</div>
			</div>

		  </div>
		</div>
	</div>
</div>